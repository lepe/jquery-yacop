jQuery.fn.callout=function(e){this.each(function(){var t=this;if(e=="hide"){var n=t.callout;if(n)for(var r=0;r<n.length;r++){n[r].onCalloutBeforeHide();n[r].fadeOut(n[r].data("fadeOut"),n[r].onCalloutAfterHide)}}else if(e=="show"){var n=t.callout;if(n)for(var r=0;r<n.length;r++){n[r].onCalloutBeforeShow();n[r].fadeIn(n[r].data("fadeIn"),n[r].onCalloutAfterShow)}$(t).callout("reorder")}else if(e=="destroy"){var n=t.callout;if(n)for(var r=0;r<n.length;r++){n[r].onCalloutBeforeDestroy();n[r].fadeOut(n[r].data("fadeOut"),function(){$(this).remove()})}delete t.callout}else if(e=="reorder"){var n=t.callout;var i=$(t).offset().top;var s=$(t).offset().left;if(n)for(var r=0;r<n.length;r++){if(n[r].is(":visible")){n[r].onCalloutBeforeReorder();var o=n[r].offset().top;var u=n[r].offset().left;var a=i-n[r].attr("top");var f=s-n[r].attr("left");n[r].css("top",o+a);n[r].css("left",u+f);n[r].attr("top",i);n[r].attr("left",s);n[r].onCalloutAfterReorder()}}}else{if(typeof e=="string")e={msg:e};e=$.extend({width:"auto",height:"auto",position:"top",align:"center",pointer:"center",msg:"Example Text",css:"",show:"true",fadeIn:2e3,fadeOut:1e3,zindex:10,afterCreate:function(){},beforeShow:function(){},afterShow:function(){},beforeHide:function(){},afterHide:function(){},beforeDestroy:function(){},beforeReorder:function(){},afterReorder:function(){}},e||{});var l=e.position;var c=e.width;var h=e.height;var p=e.msg;var d=e.align;var v=e.pointer;var m=e.css;var g=e.zindex;var y=$("<div class='callout_main'></div>");var b=$("<div class='callout "+m+" callout_cont_"+l+"'>"+p+"</div>");var w=$("<div class='callout_tri callout_"+l+"'></div>");var E=$("<div></div>");w.append(E);y.css("position","absolute").hide();b.css("zIndex",g+1);w.css("height",0).css("width",0).css("border","10px solid transparent").css("zIndex",g);E.css("position","relative").css("border","10px solid transparent").css("height",0).css("width",0).css("zIndex",g+2);y.data("fadeout",e.fadeOut).data("fadein",e.fadeIn);y.onCalloutBeforeShow=e.beforeShow;y.onCalloutBeforeHide=e.beforeHide;y.onCalloutBeforeDestroy=e.beforeDestroy;y.onCalloutBeforeReorder=e.beforeReorder;y.onCalloutAfterCreate=e.afterCreate;y.onCalloutAfterShow=e.afterShow;y.onCalloutAfterHide=e.afterHide;y.onCalloutAfterReorder=e.afterReorder;y.append(b);if(l=="bottom"||l=="right")y.prepend(w);else y.append(w);$("body").append(y);var S=new Array("backgroundColor","borderTopColor","borderLeftColor","borderRightColor","borderBottomColor","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","marginTop","marginLeft","marginRight","marginBottom");var x={};for(var T=0;T<S.length;T++){x[S[T]]=b.style(S[T])}y.css("marginLeft",x.marginLeft).css("marginRight",x.marginRight).css("marginTop",x.marginTop).css("marginBottom",x.marginBottom);b.css("margin",0);var N=-1e3;var C=-1e3;y.css("left",N);y.css("top",C);y.show();if(c!="auto")y.css("width",c);if(h!="auto")b.css("height",h);c=b.width();h=b.height();var k=$(t).offset().top;var L=$(t).offset().left;var A=parseInt($(t).css("right"),10);if(A<0){L-=A}var O=$(t).width();var M=$(t).height();y.attr("left",L);y.attr("top",k);if(l=="top"||l=="bottom"){if(d=="bottom"||d=="top")d="center";if(v=="bottom"||v=="top")v="center"}else{if(d=="left"||d=="right")d="center";if(v=="left"||v=="right")v="center"}switch(v){case"none":w.hide();break;case"left":w.css("marginLeft",10);break;case"right":w.css("marginLeft",c>18?c-10-8:0);break;case"top":w.css("top",10);break;case"bottom":w.css("top",h>18?h-10-8:0);break}switch(d){case"left":N=L;break;case"right":N=L+O-c-8;break;case"top":C=k;break;case"bottom":C=k+M-h-10;break}switch(l){case"top":case"bottom":if(l=="top"){C=k-h-25;w.css("marginTop",-1).css("borderTopColor",x.borderBottomColor);E.css("borderTopColor",x.backgroundColor).css("left",-10).css("top",-12)}else{C=k+M+5;w.css("marginBottom",-1).css("borderBottomColor",x.borderTopColor);E.css("borderBottomColor",x.backgroundColor).css("left",-10).css("top",-8)}if(d=="center")N=L+O/2-c/2;if(v=="center")w.css("marginLeft",c/2-8);else if(v=="left"&&d=="right")N=L+O-25;else if(v=="right"&&d=="left")N=L-c+25;break;case"left":case"right":if(l=="left"){N=L-c-25;w.css("left",c+10+1);w.css("borderLeftColor",x.borderRightColor);E.css("borderLeftColor",x.backgroundColor).css("left",-12).css("top",-10)}else{N=L+O+15;w.css("left",-19);w.css("borderRightColor",x.borderLeftColor);E.css("borderRightColor",x.backgroundColor).css("left",-8).css("top",-10)}w.css("position","absolute");if(d=="center")C=k+M/2-h/2-6;if(v=="center")w.css("top",h/2-4);else if(v=="top"&&d=="bottom")C=k+M-30;else if(v=="bottom"&&d=="top")C=k-h+20;break}y.hide();y.css("left",N);y.css("top",C);y.onCalloutAfterCreate();if(e.show){y.onCalloutBeforeShow();y.fadeIn(y.data("fadeIn"),y.onCalloutAfterShow)}if(t.callout==undefined){t.callout=new Array;$(window).bind("resize",function(n){$(t).callout("reorder")})}t.callout.push(y)}});return this};jQuery.fn.style=function(e){var t=this[0];if(t.currentStyle)return t.currentStyle[e];else if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(t,"")[e];else return t.style[e]}